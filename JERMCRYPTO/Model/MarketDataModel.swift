//
//  MarketDataModel.swift
//  JERMCRYPTO
//
//  Created by Apple on 21/10/2022.
//

import Foundation
//
//"data": {
//  "active_cryptocurrencies": 13262,
//  "upcoming_icos": 0,
//  "ongoing_icos": 49,
//  "ended_icos": 3376,
//  "markets": 598,
//  "total_market_cap": {
//    "btc": 49694040.00891283,
//    "eth": 738104544.2323258,
//    "ltc": 18709001878.035004,
//    "bch": 9058600319.824879,
//    "bnb": 3543845985.792121,
//    "eos": 929512732268.7385,
//    "xrp": 2144925587970.6326,
//    "xlm": 8695967781440.006,
//    "link": 144745830147.61276,
//    "dot": 163362862451.11838,
//    "yfi": 127447436.4905644,
//    "usd": 943151866319.5044,
//    "aed": 3464210952269.543,
//    "ars": 144762870918394.7,
//    "aud": 1508589330063.5103,
//    "bdt": 96062199094908.55,
//    "bhd": 355549390565.1273,
//    "bmd": 943151866319.5044,
//    "brl": 4920989177708.656,
//    "cad": 1303664122005.2087,
//    "chf": 952417390254.2272,
//    "clp": 922874101193634.6,
//    "cny": 6837662400443.161,
//    "czk": 23700651879116.133,
//    "dkk": 7190853911342.501,
//    "eur": 966725004066.2977,
//    "gbp": 847354988105.5703,
//    "hkd": 7403324334331.345,
//    "huf": 399480386837426.4,
//    "idr": 14739337886435094,
//    "ils": 3362854193803.648,
//    "inr": 78038599939857.9,
//    "jpy": 142357725866453.62,
//    "krw": 1361466926134093.8,
//    "kwd": 293242891972.32825,
//    "lkr": 345997639845165.9,
//    "mmk": 1987852759214914.8,
//    "mxn": 18910480694721.617,
//    "myr": 4468653542621.824,
//    "ngn": 413205869397715.3,
//    "nok": 10062748514829.771,
//    "nzd": 1670921799838.8235,
//    "php": 55479501353660.17,
//    "pkr": 208960387116861.1,
//    "pln": 4624724427156.643,
//    "rub": 57603004008071.086,
//    "sar": 3544634455062.4707,
//    "sek": 10680502612598.527,
//    "sgd": 1347561239319.314,
//    "thb": 36193924445944.22,
//    "try": 17543803653375.703,
//    "twd": 30392785003434.316,
//    "uah": 34954895464489.742,
//    "vef": 94437796374.57202,
//    "vnd": 23299897895838190,
//    "zar": 17349405906449.271,
//    "xdr": 671314749105.168,
//    "xag": 51312639431.52734,
//    "xau": 581943564.5564618,
//    "bits": 49694040008912.83,
//    "sats": 4969404000891283
//  },
//  "total_volume": {
//    "btc": 2701423.1649946338,
//    "eth": 40124182.16790969,
//    "ltc": 1017042105.2139682,
//    "bch": 492435566.55916345,
//    "bnb": 192647400.7240113,
//    "eos": 50529343693.08404,
//    "xrp": 116600535386.02136,
//    "xlm": 472722459325.4187,
//    "link": 7868543964.769392,
//    "dot": 8880586501.844728,
//    "yfi": 6928184.087931739,
//    "usd": 51270782156.70256,
//    "aed": 188318351923.30133,
//    "ars": 7869470319980.83,
//    "aud": 82008590204.50688,
//    "bdt": 5222047751979.297,
//    "bhd": 19328059457.43376,
//    "bmd": 51270782156.70256,
//    "brl": 267510432980.81186,
//    "cad": 70868628469.8451,
//    "chf": 51774466320.61001,
//    "clp": 50168460340333.44,
//    "cny": 371702916479.6632,
//    "czk": 1288393738972.2124,
//    "dkk": 390902798981.7059,
//    "eur": 52552244085.92738,
//    "gbp": 46063157542.26436,
//    "hkd": 402452926973.62054,
//    "huf": 21716197169119.04,
//    "idr": 801246765124297.2,
//    "ils": 182808486048.04898,
//    "inr": 4242264899442.0737,
//    "jpy": 7738723965743.57,
//    "krw": 74010853051453.1,
//    "kwd": 15941009046.597681,
//    "lkr": 18808815687828.188,
//    "mmk": 108061882096495.53,
//    "mxn": 1027994717288.883,
//    "myr": 242920965858.4574,
//    "ngn": 22462329633544.23,
//    "nok": 547022176836.5175,
//    "nzd": 90833163416.97202,
//    "php": 3015927264361.0435,
//    "pkr": 11359318546499.562,
//    "pln": 251405152348.1842,
//    "rub": 3131363225303.7314,
//    "sar": 192690262788.58536,
//    "sek": 580603975170.5546,
//    "sgd": 73254924483.76431,
//    "thb": 1967541900654.5432,
//    "try": 953700636592.3647,
//    "twd": 1652185522494.3137,
//    "uah": 1900186910156.6787,
//    "vef": 5133743417.350631,
//    "vnd": 1266608307687158.2,
//    "zar": 943132959328.1367,
//    "xdr": 36493414781.93364,
//    "xag": 2789412025.918671,
//    "xau": 31635098.00632868,
//    "bits": 2701423164994.634,
//    "sats": 270142316499463.38
//  },
//  "market_cap_percentage": {
//    "btc": 38.606653829229934,
//    "eth": 16.339172098737283,
//    "usdt": 7.259136547662126,
//    "usdc": 4.65985842623997,
//    "bnb": 4.6019933913254025,
//    "xrp": 2.324879178307478,
//    "busd": 2.3176774480641487,
//    "ada": 1.242418631062914,
//    "sol": 1.0476984429458118,
//    "doge": 0.8384451405142558
//  },
//  "market_cap_change_percentage_24h_usd": -1.3803580894900453,
//  "updated_at": 1666342980
//}
//}


// MARK: - Welcome
struct GlobalData: Codable {
    let data: MarketDataModel
}

// MARK: - DataClass
struct MarketDataModel: Codable {
    
   
    let totalMarketCap, totalVolume, marketCapPercentage: [String: Double]?
    let marketCapChangePercentage24HUsd: Double?
    

    enum CodingKeys: String, CodingKey {
    
        case totalMarketCap = "total_market_cap"
        case totalVolume = "total_volume"
        case marketCapPercentage = "market_cap_percentage"
        case marketCapChangePercentage24HUsd = "market_cap_change_percentage_24h_usd"
    }
    var marketcap:String  {
        if let item = totalMarketCap!.first(where: {   $0.key == "usd" }) {
            return "$" + item.value.formattedWithAbbreviations()
        }
            return ""
        }
        
    
    var volume:String  {
       
        if let item = totalVolume!.first(where: {  $0.key == "usd" }) {
            return  "$" + item.value.formattedWithAbbreviations()
            }
                return ""
            }
            
    
    var Totaldominance: String {
        if let item = marketCapPercentage!.first(where: {  $0.key == "btc" }) {
            return "$" + item.value.formattedWithAbbreviations()
        }
            return ""
        }
}
